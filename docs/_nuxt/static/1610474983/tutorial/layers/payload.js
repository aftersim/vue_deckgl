__NUXT_JSONP__("/tutorial/layers", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){return {data:[{document:{slug:"layers",title:"Adding Data with Layers",description:"how to add data to deckgl with layers",position:8,category:"Tutorial",version:1.4,fullscreen:false,menuTitle:"Adding Data With Layers",toc:[{id:r,depth:3,text:n}],body:{type:"root",children:[{type:b,tag:d,props:{},children:[{type:a,value:"DeckGL accepts data through the use of "},{type:b,tag:g,props:{href:"https:\u002F\u002Fdeck.gl\u002Fdocs\u002Fapi-reference\u002Flayers",rel:[t,o,p],target:q},children:[{type:a,value:"many types of different layers"}]},{type:a,value:". "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Because we love Declarative Templating so much, we simply slot a Layer Component inside of Vue DeckGL using the provided Vue DeckGL Layers. While this ultimately is just a thin abstraction for declarative templating, we hope to eventually add \"nice-to-haves\" to make working with Layers a little easier."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"In this example, we will be using GeoJSON data provided via this URL: '"},{type:b,tag:g,props:{href:s,rel:[t,o,p],target:q},children:[{type:a,value:s}]}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Data passed to the layer component could be a URL to the data or data that you fetch yourself via fetch\u002Faxios."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"\u003Ctemplate\u003E\n  \u003Cdiv id=\"app\"\u003E\n      \u003CDeckGL ref=\"deck\"\n            :class=\"['fill-wrapper']\"\n            :controlMap=\"true\"\n            :width=\"'100%'\"\n            :height=\"'100%'\"\n            :controller=\"true\"\n            :useDevicePixels=\"false\"\n            :viewState=\"{latitude: 49.254, longitude: -123.13, zoom: 11, maxZoom: 16, pitch: 45, bearing: 0}\"\n            \u003E\n      \u003CMapbox class=\"fill-wrapper\" \n                :accessToken=\"'KEY GOES HERE'\"                 \n                :center=\"[-123.13, 49.254]\"\n                :zoom=\"11\"\n                :bearing=\"0\"\n                :pitch=\"45\"\u002F\u003E\n        \u003CGeoJsonLayer\n        :data=\"data_url\"\n        :id=\"'my-layer'\"\n        :visible=\"topVisible\"\n        :class=\"'layer'\"\n        :opacity=\"0.8\"\n        :stroke=\"false\"\n        :filled=\"true\"\n        :extruded=\"true\"\n        :wireframe=\"true\"\n        :fp64=\"true\"\n        :getElevation=\"(f) =\u003E Math.sqrt(f.properties.valuePerSqm) * 10\"\n        :getFillColor=\"(f) =\u003E colorScale(f.properties.growth)\"\n        :getLineColor=\"[255, 255, 255]\"\n        :pickable=\"true\"\n        :onHover=\"deckTooltipCallback\"\n      \u002F\u003E\n    \u003C\u002FDeckGL\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Ftemplate\u003E\n\n\u003Cscript\u003E\nimport {DeckGL, Mapbox, GeoJsonLayer} from '@hirelofty\u002Fvue_deckgl'\n\nexport default {\n  name: 'App',\n  components: {\n    DeckGL,\n    Mapbox,\n    GeoJsonLayer\n  }, \n}\n\u003C\u002Fscript\u003E\n\n\u003Cstyle\u003E\n...\n\u003C\u002Fstyle\u003E\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Notes about the implementation above"}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"As with DeckGL and Mapbox, DeckGL layers have plenty of properties that can be explored further in the documentation."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"We provide new GeoJsonLayer with a url to the data."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Because this data is in Vancouver, we set the viewState of DeckGL and Mapbox to default to Vancouver so we can see it."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:"h4",props:{id:"are-we-not-currently-providing-a-layer-you-want-to-use-create-it-and-submit-a-pr-its-easy"},children:[{type:b,tag:g,props:{href:"#are-we-not-currently-providing-a-layer-you-want-to-use-create-it-and-submit-a-pr-its-easy",ariaHidden:u,tabIndex:v},children:[{type:b,tag:w,props:{className:[x,y]},children:[]}]},{type:a,value:"Are we not currently providing a layer you want to use? Create it and submit a PR! It's easy!"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"To do this, all you need to do is create a layer that utilizes the BaseLayerMixin. This mixin is how Vue DeckGL knows that a slotted component passed was a layer type. Here's a quick example of implementing a GeoJsonLayer"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"\u003Cscript\u003E\nimport { GeoJsonLayer } from \"@deck.gl\u002Flayers\";\nimport BaseLayerMixin from \".\u002FBaseLayerMixin\";\n\nexport default {\n  name: \"GeoJsonLayer\",\n  mixins: [BaseLayerMixin],\n  data() {\n    return {\n      typeOfLayer: GeoJsonLayer,\n    };\n  },\n  render: () =\u003E null,\n};\n\u003C\u002Fscript\u003E\n\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"That's it! Now mileage may vary if you are attempting to implement a more complicated layer, but the key piece to get started is to utilize the BaseLayerMixin and specify your typeOfLayer in data."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Here is a list of layer type components currently provided:"}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"GeoJson Layer"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"PolygonLayer"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Hexagon Layer"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Tile Layer"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Note the "},{type:b,tag:f,props:{},children:[{type:a,value:"render: () =\u003E null"}]},{type:a,value:" method. Because we are creating a Vue component that does not render any HTML, but instead works with Deck.gl to display data, we can override the Vue render method to return null here, to do nothing. This allows us to avoid having to include an empty template in our code."}]},{type:a,value:c},{type:b,tag:"h3",props:{id:r},children:[{type:b,tag:g,props:{href:"#changing-the-properties-of-a-layer",ariaHidden:u,tabIndex:v},children:[{type:b,tag:w,props:{className:[x,y]},children:[]}]},{type:a,value:n}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"You will most likely want to be able to change the properties of layers dynamically. We have added watchers that will check what has changed on the layer and rerender it for you. Below is an example of how we can implement a visibility toggle on our layer."}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"      \u003CGeoJsonLayer\n        :data=\"data_url\"\n        :id=\"'my-layer'\"\n        :visible=\"topVisible\"\n        :class=\"'layer'\"\n        :opacity=\"0.8\"\n        :stroke=\"false\"\n        :filled=\"true\"\n        :extruded=\"true\"\n        :wireframe=\"true\"\n        :fp64=\"true\"\n        :getElevation=\"(f) =\u003E Math.sqrt(f.properties.valuePerSqm) * 10\"\n        :getFillColor=\"(f) =\u003E colorScale(f.properties.growth)\"\n        :getLineColor=\"[255, 255, 255]\"\n        :pickable=\"true\"\n        :onHover=\"deckTooltipCallback\"\n      \u002F\u003E\n\n\n\u003Cbutton @click=\"toggleTopLayer\"\u003EToggle Top Layer\u003C\u002Fbutton\u003E\n\n   toggleTopLayer() {\n      this.topVisible = !this.topVisible;\n    },\n\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"That's it! This is just one example of a layer property that can be changed. You could change basically any property you need to."}]}]},dir:"\u002Fen\u002Ftutorial",path:"\u002Fen\u002Ftutorial\u002Flayers",extension:".md",createdAt:z,updatedAt:z,to:"\u002Ftutorial\u002Flayers"},prev:{slug:"settings",title:"Configuring DeckGL\u002FMapbox settings",to:"\u002Ftutorial\u002Fsettings"},next:{slug:"interactivity",title:"Interacting with DeckGL",to:"\u002Ftutorial\u002Finteractivity"}}],fetch:[],mutations:[]}}("text","element","\n","p","li","code","a","div","nuxt-content-highlight","pre","language-text","line-numbers","ul","Changing the properties of a layer","noopener","noreferrer","_blank","changing-the-properties-of-a-layer","https:\u002F\u002Fraw.githubusercontent.com\u002Fuber-common\u002Fdeck.gl-data\u002Fmaster\u002Fexamples\u002Fgeojson\u002Fvancouver-blocks.json'","nofollow","true",-1,"span","icon","icon-link","2021-01-12T18:09:05.129Z")));